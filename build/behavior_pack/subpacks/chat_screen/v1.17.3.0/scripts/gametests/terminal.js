import{World as s}from"Minecraft";import{players as e,whitelist as r}from"scripts/credentials/access.js";import{client as t}from"scripts/gametests/commands/message.js";import*as m from"Minecraft";import*as i from"GameTest";import{viewObj as a}from"scripts/viewObj.js";import{md5 as n}from"scripts/blueimp-md5/md5.js";import{SHA256 as c}from"scripts/sha256.js";s.events.beforeChat.subscribe((s=>{let o=s.sender.name??s.sender.nameTag,f=!1;if(f=!(1!=r||!e.includes(o))||0==r,"$"==s.message.substring(0,1)&&1==f){s.cancel=!0,t(o,`$${s.message.substring(1)}`);try{new Function("Minecraft","GameTest","viewObj","md5","sha256",`return (function () { ${s.message.substring(1)} });`)(m,i,a,n,c)()}catch(s){t(o,`Â§c${String(s)}`)}}}));