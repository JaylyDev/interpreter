import{players as s,whitelist as e,addon_prefix as r}from"scripts/credentials/access.js";import{client as t}from"./commands/message.js";import*as m from"Minecraft";import*as i from"GameTest";import{viewObj as a}from"scripts/viewObj.js";import{md5 as o}from"scripts/blueimp-md5/md5.js";import{SHA256 as n}from"scripts/sha256.js";import{Base64 as c}from"scripts/base64.js";(m.world??m.World).events.beforeChat.subscribe((p=>{let f=p.sender.name??p.sender.nameTag,d=!1;if(d=!(1!=e||!s.includes(f))||0==e,p.message.substring(0,1)==r&&1==d){p.cancel=!0,t(f,`${p.message}`);try{const s={Minecraft:m,GameTest:i,viewObj:a,md5:o,sha256:n,Base64:c};new Function(`{${Object.keys(s).join(",")}}`,`return (function () { ${p.message.substring(1)} });`)(s)()}catch(s){t(f,`Â§c${String(s)}`)}}}));