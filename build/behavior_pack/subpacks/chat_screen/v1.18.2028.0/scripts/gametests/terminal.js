import{players as s,whitelist as e,addon_prefix as r}from"scripts/credentials/access.js";import{client as t}from"./commands/message.js";import*as m from"Minecraft";import*as i from"GameTest";import{viewObj as o}from"scripts/viewObj.js";import{md5 as a}from"scripts/blueimp-md5/md5.js";import{SHA256 as n}from"scripts/sha256.js";import{cloneJSON as c}from"scripts/clonejson.js";import{Base64 as p}from"scripts/base64.js";(m.world??m.World).events.beforeChat.subscribe((f=>{let d=f.sender.name??f.sender.nameTag,j=!1;if(j=!(1!=e||!s.includes(d))||0==e,f.message.substring(0,1)==r&&1==j){f.cancel=!0,t(d,`${f.message}`);try{const s={Minecraft:m,GameTest:i,viewObj:o,md5:a,sha256:n,cloneJSON:c,Base64:p};new Function(`{${Object.keys(s).join(",")}}`,`return (function () { ${f.message.substring(1)} });`)(s)()}catch(s){t(d,`Â§c${String(s)}`)}}}));