import{world as e,ItemStack as t,MinecraftItemTypes as i}from"mojang-minecraft";import{players as r,whitelist as s}from"scripts/credentials/access.js";import{client as o}from"scripts/gametests/commands/message.js";import{codeExecute as n}from"./javascript.js";import p from"scripts/typescript/typescript.js";import{lib_d_ts as l}from"scripts/typescript/lib.d.js";import{lib_dom_d_ts as c}from"scripts/typescript/lib.dom.d.js";import{lib_dom_iterable_d_ts as a}from"scripts/typescript/lib.dom.iterable.d.js";import{lib_es2015_collection_d_ts as d}from"scripts/typescript/lib.es2015.collection.d.js";import{lib_es2015_core_d_ts as m}from"scripts/typescript/lib.es2015.core.d.js";import{lib_es2015_d_ts as y}from"scripts/typescript/lib.es2015.d.js";import{lib_es2015_generator_d_ts as f}from"scripts/typescript/lib.es2015.generator.d.js";import{lib_es2015_iterable_d_ts as b}from"scripts/typescript/lib.es2015.iterable.d.js";import{lib_es2015_promise_d_ts as u}from"scripts/typescript/lib.es2015.promise.d.js";import{lib_es2015_proxy_d_ts as g}from"scripts/typescript/lib.es2015.proxy.d.js";import{lib_es2015_reflect_d_ts as w}from"scripts/typescript/lib.es2015.reflect.d.js";import{lib_es2015_symbol_d_ts as S}from"scripts/typescript/lib.es2015.symbol.d.js";import{lib_es2015_symbol_wellknown_d_ts as k}from"scripts/typescript/lib.es2015.symbol.wellknown.d.js";import{lib_es2016_array_include_d_ts as j}from"scripts/typescript/lib.es2016.array.include.d.js";import{lib_es2016_d_ts as h}from"scripts/typescript/lib.es2016.d.js";import{lib_es2016_full_d_ts as D}from"scripts/typescript/lib.es2016.full.d.js";import{lib_es2017_d_ts as E}from"scripts/typescript/lib.es2017.d.js";import{lib_es2017_full_d_ts as O}from"scripts/typescript/lib.es2017.full.d.js";import{lib_es2017_intl_d_ts as x}from"scripts/typescript/lib.es2017.intl.d.js";import{lib_es2017_object_d_ts as v}from"scripts/typescript/lib.es2017.object.d.js";import{lib_es2017_sharedmemory_d_ts as C}from"scripts/typescript/lib.es2017.sharedmemory.d.js";import{lib_es2017_string_d_ts as F}from"scripts/typescript/lib.es2017.string.d.js";import{lib_es2017_typedarrays_d_ts as I}from"scripts/typescript/lib.es2017.typedarrays.d.js";import{lib_es2018_asyncgenerator_d_ts as N}from"scripts/typescript/lib.es2018.asyncgenerator.d.js";import{lib_es2018_asynciterable_d_ts as $}from"scripts/typescript/lib.es2018.asynciterable.d.js";import{lib_es2018_d_ts as M}from"scripts/typescript/lib.es2018.d.js";import{lib_es2018_full_d_ts as P}from"scripts/typescript/lib.es2018.full.d.js";import{lib_es2018_intl_d_ts as T}from"scripts/typescript/lib.es2018.intl.d.js";import{lib_es2018_promise_d_ts as V}from"scripts/typescript/lib.es2018.promise.d.js";import{lib_es2018_regexp_d_ts as J}from"scripts/typescript/lib.es2018.regexp.d.js";import{lib_es2019_array_d_ts as U}from"scripts/typescript/lib.es2019.array.d.js";import{lib_es2019_d_ts as A}from"scripts/typescript/lib.es2019.d.js";import{lib_es2019_full_d_ts as L}from"scripts/typescript/lib.es2019.full.d.js";import{lib_es2019_object_d_ts as R}from"scripts/typescript/lib.es2019.object.d.js";import{lib_es2019_string_d_ts as W}from"scripts/typescript/lib.es2019.string.d.js";import{lib_es2019_symbol_d_ts as B}from"scripts/typescript/lib.es2019.symbol.d.js";import{lib_es2020_bigint_d_ts as z}from"scripts/typescript/lib.es2020.bigint.d.js";import{lib_es2020_d_ts as G}from"scripts/typescript/lib.es2020.d.js";import{lib_es2020_full_d_ts as Y}from"scripts/typescript/lib.es2020.full.d.js";import{lib_es2020_intl_d_ts as _}from"scripts/typescript/lib.es2020.intl.d.js";import{lib_es2020_promise_d_ts as q}from"scripts/typescript/lib.es2020.promise.d.js";import{lib_es2020_sharedmemory_d_ts as H}from"scripts/typescript/lib.es2020.sharedmemory.d.js";import{lib_es2020_string_d_ts as K}from"scripts/typescript/lib.es2020.string.d.js";import{lib_es2020_symbol_wellknown_d_ts as Q}from"scripts/typescript/lib.es2020.symbol.wellknown.d.js";import{lib_es2021_d_ts as X}from"scripts/typescript/lib.es2021.d.js";import{lib_es2021_full_d_ts as Z}from"scripts/typescript/lib.es2021.full.d.js";import{lib_es2021_intl_d_ts as ee}from"scripts/typescript/lib.es2021.intl.d.js";import{lib_es2021_promise_d_ts as te}from"scripts/typescript/lib.es2021.promise.d.js";import{lib_es2021_string_d_ts as ie}from"scripts/typescript/lib.es2021.string.d.js";import{lib_es2021_weakref_d_ts as re}from"scripts/typescript/lib.es2021.weakref.d.js";import{lib_es2022_array_d_ts as se}from"scripts/typescript/lib.es2022.array.d.js";import{lib_es2022_d_ts as oe}from"scripts/typescript/lib.es2022.d.js";import{lib_es2022_error_d_ts as ne}from"scripts/typescript/lib.es2022.error.d.js";import{lib_es2022_full_d_ts as pe}from"scripts/typescript/lib.es2022.full.d.js";import{lib_es2022_object_d_ts as le}from"scripts/typescript/lib.es2022.object.d.js";import{lib_es2022_string_d_ts as ce}from"scripts/typescript/lib.es2022.string.d.js";import{lib_es5_d_ts as ae}from"scripts/typescript/lib.es5.d.js";import{lib_es6_d_ts as de}from"scripts/typescript/lib.es6.d.js";import{lib_esnext_d_ts as me}from"scripts/typescript/lib.esnext.d.js";import{lib_esnext_full_d_ts as ye}from"scripts/typescript/lib.esnext.full.d.js";import{lib_esnext_intl_d_ts as fe}from"scripts/typescript/lib.esnext.intl.d.js";import{lib_esnext_promise_d_ts as be}from"scripts/typescript/lib.esnext.promise.d.js";import{lib_esnext_string_d_ts as ue}from"scripts/typescript/lib.esnext.string.d.js";import{lib_scripthost_d_ts as ge}from"scripts/typescript/lib.scripthost.d.js";import{lib_webworker_importscripts_d_ts as we}from"scripts/typescript/lib.webworker.importscripts.d.js";import{lib_webworker_iterable_d_ts as Se}from"scripts/typescript/lib.webworker.iterable.d.js";import{mojangminecraftui_d_ts as ke}from"./@types/mojang-minecraft-ui/index.d.js";import{mojangminecraft_d_ts as je}from"./@types/mojang-minecraft/index.d.js";import{mojanggametest_d_ts as he}from"./@types/mojang-gametest/index.d.js";import{ModalFormData as De,MessageFormData as Ee,ActionFormData as Oe}from"mojang-minecraft-ui";import{base64_d_ts as xe}from"scripts/base64.d.js";import{clonejson_d_ts as ve}from"scripts/clonejson.d.js";import{sha256_d_ts as Ce}from"scripts/sha256.d.js";import{viewObj_d_ts as Fe}from"scripts/viewObj.d.js";import{blueimp_md5_d_ts as Ie}from"scripts/blueimp-md5/index.d.js";import{Validator as Ne}from"./jsonschema/lib/index.js";export const prefix="$";class $e{static validate=()=>(new Ne).validate(this.value,this.schema);static schema={title:"",$schema:"http://json-schema.org/draft-04/schema#",id:"https://json.schemastore.org/tsconfig",definitions:{"//":{explainer:"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#overview",reference:"https://www.typescriptlang.org/tsconfig","reference metadata":"https://github.com/microsoft/TypeScript-Website/blob/v2/packages/tsconfig-reference/scripts/tsconfigRules.ts"},compilerOptionsDefinition:{properties:{compilerOptions:{type:"object",description:"",properties:{charset:{description:"",type:"string",markdownDescription:""},composite:{description:"",type:"boolean",default:!0,markdownDescription:""},declaration:{description:"",type:"boolean",default:!1,markdownDescription:""},declarationDir:{description:"",type:["string","null"],markdownDescription:""},diagnostics:{description:"",type:"boolean",markdownDescription:""},disableReferencedProjectLoad:{description:"",type:"boolean",markdownDescription:""},noPropertyAccessFromIndexSignature:{description:"",type:"boolean",markdownDescription:""},emitBOM:{description:"",type:"boolean",default:!1,markdownDescription:""},emitDeclarationOnly:{description:"",type:"boolean",default:!1,markdownDescription:""},exactOptionalPropertyTypes:{description:"",type:"boolean",default:!1,markdownDescription:""},incremental:{description:"",type:"boolean"},tsBuildInfoFile:{description:"",default:".tsbuildinfo",type:"string",markdownDescription:""},inlineSourceMap:{description:"",type:"boolean",default:!1,markdownDescription:""},inlineSources:{description:"",type:"boolean",default:!1,markdownDescription:""},jsx:{description:"",enum:["preserve","react","react-jsx","react-jsxdev","react-native"]},reactNamespace:{description:"",type:"string",default:"React",markdownDescription:""},jsxFactory:{description:"",type:"string",default:"React.createElement",markdownDescription:""},jsxFragmentFactory:{description:"",type:"string",default:"React.Fragment",markdownDescription:""},jsxImportSource:{description:"",type:"string",default:"react",markdownDescription:""},listFiles:{description:"",type:"boolean",default:!1,markdownDescription:""},mapRoot:{description:"",type:"string",markdownDescription:""},module:{description:"",type:"string",anyOf:[{enum:["CommonJS","AMD","System","UMD","ES6","ES2015","ES2020","ESNext","None","ES2022","Node12","NodeNext"]}],markdownDescription:""},newLine:{description:"",type:"string",anyOf:[{enum:["crlf","lf"]}],markdownDescription:""},noEmit:{description:"",type:"boolean",default:!1,markdownDescription:""},noEmitHelpers:{description:"",type:"boolean",default:!1,markdownDescription:""},noEmitOnError:{description:"",type:"boolean",default:!1,markdownDescription:""},noImplicitAny:{description:"",type:"boolean",markdownDescription:""},noImplicitThis:{description:"",type:"boolean",markdownDescription:""},noUnusedLocals:{description:"",type:"boolean",default:!1,markdownDescription:""},noUnusedParameters:{description:"",type:"boolean",default:!1,markdownDescription:""},noLib:{description:"",type:"boolean",default:!1,markdownDescription:""},noResolve:{description:"",type:"boolean",default:!1,markdownDescription:""},noStrictGenericChecks:{description:"",type:"boolean",default:!1,markdownDescription:""},skipDefaultLibCheck:{description:"",type:"boolean",default:!1,markdownDescription:""},skipLibCheck:{description:"",type:"boolean",default:!1,markdownDescription:""},outFile:{description:"",type:"string",markdownDescription:""},outDir:{description:"",type:"string",markdownDescription:""},preserveConstEnums:{description:"",type:"boolean",default:!1,markdownDescription:""},preserveSymlinks:{description:"",type:"boolean",default:!1,markdownDescription:""},preserveValueImports:{description:"",type:"boolean",default:!1,markdownDescription:""},preserveWatchOutput:{description:"",type:"boolean",markdownDescription:""},pretty:{description:"",type:"boolean",default:!0,markdownDescription:""},removeComments:{description:"",type:"boolean",default:!1,markdownDescription:""},rootDir:{description:"",type:"string",markdownDescription:""},isolatedModules:{description:"",type:"boolean",default:!1,markdownDescription:""},sourceMap:{description:"",type:"boolean",default:!1,markdownDescription:""},sourceRoot:{description:"",type:"string",markdownDescription:""},suppressExcessPropertyErrors:{description:"",type:"boolean",default:!1,markdownDescription:""},suppressImplicitAnyIndexErrors:{description:"",type:"boolean",default:!1,markdownDescription:""},stripInternal:{description:"",type:"boolean",markdownDescription:""},target:{description:"",type:"string",default:"ES2015",anyOf:[{enum:["ES3","ES5","ES6","ES2015","ES2016","ES2017","ES2018","ES2019","ES2020","ES2021","ES2022","ESNext"]}],markdownDescription:""},useUnknownInCatchVariables:{description:"",type:"boolean",default:!1,markdownDescription:""},watch:{description:"",type:"boolean"},fallbackPolling:{description:"",enum:["fixedPollingInterval","priorityPollingInterval","dynamicPriorityPolling","fixedInterval","priorityInterval","dynamicPriority","fixedChunkSize"]},watchDirectory:{description:"",type:"string",enum:["useFsEvents","fixedPollingInterval","dynamicPriorityPolling","fixedChunkSizePolling"],default:"useFsEvents"},watchFile:{description:"",type:"string",enum:["fixedPollingInterval","priorityPollingInterval","dynamicPriorityPolling","useFsEvents","useFsEventsOnParentDirectory","fixedChunkSizePolling"],default:"useFsEvents"},experimentalDecorators:{description:"",type:"boolean",markdownDescription:""},emitDecoratorMetadata:{description:"",type:"boolean",markdownDescription:""},allowUnusedLabels:{description:"",type:"boolean",markdownDescription:""},noImplicitReturns:{description:"",type:"boolean",default:!1,markdownDescription:""},noUncheckedIndexedAccess:{description:"",type:"boolean",markdownDescription:""},noFallthroughCasesInSwitch:{description:"",type:"boolean",default:!1,markdownDescription:""},noImplicitOverride:{description:"",type:"boolean",default:!1,markdownDescription:""},allowUnreachableCode:{description:"",type:"boolean",markdownDescription:""},forceConsistentCasingInFileNames:{description:"",type:"boolean",default:!1,markdownDescription:""},generateCpuProfile:{description:"",type:"string",default:"profile.cpuprofile",markdownDescription:""},baseUrl:{description:"",type:"string",markdownDescription:""},paths:{description:"",type:"object",additionalProperties:{type:"array",uniqueItems:!0,items:{type:"string",description:""}},markdownDescription:""},plugins:{description:"",type:"array",items:{type:"object",properties:{name:{description:"",type:"string"}}},markdownDescription:""},rootDirs:{description:"",type:"array",uniqueItems:!0,items:{type:"string"},markdownDescription:""},typeRoots:{description:"",type:"array",uniqueItems:!0,items:{type:"string"},markdownDescription:""},types:{description:"",type:"array",uniqueItems:!0,items:{type:"string"},markdownDescription:""},traceResolution:{description:"",type:"boolean",default:!1},allowJs:{description:"",type:"boolean",default:!1,markdownDescription:""},noErrorTruncation:{description:"",type:"boolean",default:!1,markdownDescription:""},allowSyntheticDefaultImports:{description:"",type:"boolean",markdownDescription:""},noImplicitUseStrict:{description:"",type:"boolean",default:!1,markdownDescription:""},listEmittedFiles:{description:"",type:"boolean",default:!1,markdownDescription:""},disableSizeLimit:{description:"",type:"boolean",default:!1,markdownDescription:""},lib:{description:"",type:"array",uniqueItems:!0,items:{type:"string",anyOf:[{enum:["ES5","ES6","ES2015","ES2015.Collection","ES2015.Core","ES2015.Generator","ES2015.Iterable","ES2015.Promise","ES2015.Proxy","ES2015.Reflect","ES2015.Symbol.WellKnown","ES2015.Symbol","ES2016","ES2016.Array.Include","ES2017","ES2017.Intl","ES2017.Object","ES2017.SharedMemory","ES2017.String","ES2017.TypedArrays","ES2018","ES2018.AsyncGenerator","ES2018.AsyncIterable","ES2018.Intl","ES2018.Promise","ES2018.Regexp","ES2019","ES2019.Array","ES2019.Object","ES2019.String","ES2019.Symbol","ES2020","ES2020.BigInt","ES2020.Promise","ES2020.String","ES2020.Symbol.WellKnown","ESNext","ESNext.Array","ESNext.AsyncIterable","ESNext.BigInt","ESNext.Intl","ESNext.Promise","ESNext.String","ESNext.Symbol","DOM","DOM.Iterable","ScriptHost","WebWorker","WebWorker.ImportScripts","Webworker.Iterable","ES7","ES2021","ES2020.SharedMemory","ES2020.Intl","ES2021.Promise","ES2021.String","ES2021.WeakRef","ESNext.WeakRef","es2021.intl"]}]},markdownDescription:""},strictNullChecks:{description:"",type:"boolean",default:!1,markdownDescription:""},maxNodeModuleJsDepth:{description:"",type:"number",default:0,markdownDescription:""},importHelpers:{description:"",type:"boolean",default:!1,markdownDescription:""},importsNotUsedAsValues:{description:"",default:"remove",enum:["remove","preserve","error"]},alwaysStrict:{description:"",type:"boolean",markdownDescription:""},strict:{description:"",type:"boolean",default:!1,markdownDescription:""},strictBindCallApply:{description:"",type:"boolean",default:!1,markdownDescription:""},downlevelIteration:{description:"",type:"boolean",default:!1,markdownDescription:""},checkJs:{description:"",type:"boolean",default:!1,markdownDescription:""},strictFunctionTypes:{description:"",type:"boolean",default:!1,markdownDescription:""},strictPropertyInitialization:{description:"",type:"boolean",default:!1,markdownDescription:""},esModuleInterop:{description:"",type:"boolean",default:!1,markdownDescription:""},allowUmdGlobalAccess:{description:"",type:"boolean",default:!1,markdownDescription:""},keyofStringsOnly:{description:"",type:"boolean",default:!1,markdownDescription:""},useDefineForClassFields:{description:"",type:"boolean",default:!1,markdownDescription:""},declarationMap:{description:"",type:"boolean",default:!1,markdownDescription:""},resolveJsonModule:{description:"",type:"boolean",default:!1,markdownDescription:""},assumeChangesOnlyAffectDirectDependencies:{description:"",type:"boolean"},extendedDiagnostics:{description:"",type:"boolean",default:!1,markdownDescription:""},listFilesOnly:{description:"",type:"boolean"},disableSourceOfProjectReferenceRedirect:{description:"",type:"boolean",markdownDescription:""},disableSolutionSearching:{description:"",type:"boolean",markdownDescription:""}}}}}},type:"object",allOf:[{$ref:"#/definitions/compilerOptionsDefinition"}]};static value={compilerOptions:{allowJs:!1,allowSyntheticDefaultImports:!0,allowUmdGlobalAccess:!1,allowUnreachableCode:!0,allowUnusedLabels:!0,alwaysStrict:!1,charset:"utf8",checkJs:!1,composite:!1,declaration:!1,declarationMap:!1,disableSizeLimit:!1,downlevelIteration:!0,emitBOM:!1,emitDeclarationOnly:!1,esModuleInterop:!1,exactOptionalPropertyTypes:!1,extendedDiagnostics:!1,forceConsistentCasingInFileNames:!1,generateCpuProfile:"profile.cpuprofile",importHelpers:!1,importsNotUsedAsValues:"remove",inlineSourceMap:!1,inlineSources:!1,isolatedModules:!1,keyofStringsOnly:!1,listEmittedFiles:!1,listFiles:!1,maxNodeModuleJsDepth:0,module:"ES2015",noEmit:!1,noEmitHelpers:!1,noEmitOnError:!1,noErrorTruncation:!1,noFallthroughCasesInSwitch:!1,noImplicitOverride:!1,noImplicitReturns:!1,noImplicitUseStrict:!1,noLib:!1,noResolve:!1,noStrictGenericChecks:!1,noUnusedLocals:!1,noUnusedParameters:!1,preserveConstEnums:!1,preserveSymlinks:!1,preserveValueImports:!1,pretty:!0,removeComments:!1,resolveJsonModule:!1,skipDefaultLibCheck:!1,skipLibCheck:!1,sourceMap:!1,strict:!1,strictBindCallApply:!1,strictFunctionTypes:!1,strictNullChecks:!1,strictPropertyInitialization:!1,suppressExcessPropertyErrors:!1,suppressImplicitAnyIndexErrors:!1,target:"ES2015",traceResolution:!1,useDefineForClassFields:!1,useUnknownInCatchVariables:!1,watchDirectory:"useFsEvents",watchFile:"useFsEvents"}}}const Me={ModalForm:{dropdown:{defaultValueIndex:null},slider:{defaultValue:null},textField:{defaultValue:null},toggle:{defaultValue:null}}};function Pe(e,t,i){let r=new Oe;r.title("TypeScript Configulation"),r.body("TSConfig indicates that the TypeScript project.\n§9https://typescriptlang.org/tsconfig");for(const e of Object.keys(t.compilerOptions))r.button(`${e} [${i.definitions.compilerOptionsDefinition.properties.compilerOptions.properties[e].type}]`);return r.show(e).then((r=>{const{selection:s,isCanceled:n}=r;if(!0===n)return t;{const r=Object.keys(t.compilerOptions)[s],n=i.definitions.compilerOptionsDefinition.properties.compilerOptions.properties[r];if(n.enum){let i=new Oe;i.title("TypeScript Configulation"),i.body(`Setting: ${r}\n\nCurrent Value: ${t.compilerOptions[r]}`);var p=[];for(const e of n.enum)i.button(e),p.push(e);i.show(e).then((i=>{const{selection:s,isCanceled:n}=i;!0!==n&&(t.compilerOptions[r]=p[s],o(e.name,`You have chosen ${p[s]} in ${r}`))}))}else if(n.anyOf){for(const i of n.anyOf)if(i.enum){let s=new Oe;s.title("TypeScript Configulation"),s.body(`Setting: ${r}\n\nCurrent Value: ${t.compilerOptions[r]}`);p=[];for(const e of i.enum)s.button(e),p.push(e);s.show(e).then((i=>{const{selection:s,isCanceled:n}=i;!0!==n&&(t.compilerOptions[r]=p[s],o(e.name,`You have chosen ${p[s]} in ${r}`))}))}}else if("boolean"==n.type){p=[!0,!1];let i=new Oe;i.title("TypeScript Configulation"),i.body(`Setting: ${r}\n\nCurrent Value: ${t.compilerOptions[r]}`),i.button("True","textures/blocks/wool_colored_lime"),i.button("False","textures/blocks/wool_colored_red"),i.show(e).then((i=>{const{selection:s,isCanceled:n}=i;!0!==n&&(t.compilerOptions[r]=p[s],o(e.name,`Set ${r} to ${p[s]}`))}))}else{let i=new De;i.title("TypeScript Configulation"),i.textField(`Setting: ${r}\n\nType here to change property value`,"object"==typeof t.compilerOptions[r]?JSON.stringify(t.compilerOptions[r]):String(t.compilerOptions[r]),"object"==typeof t.compilerOptions[r]?JSON.stringify(t.compilerOptions[r]):String(t.compilerOptions[r])),i.show(e).then((i=>{const{formValues:s}=i;let[p]=s;if("array"!==n.type||n.enum||n.anyOf)if("object"!==n.type||n.enum||n.anyOf)"string"!==n.type||n.enum||n.anyOf?"number"!==n.type||n.enum||n.anyOf||(isNaN(p)?o(e.name,`§cCannot make changes to ${r}: Input is not an ${n.type}.`):(t.compilerOptions[r]=Number(p),o(e.name,`Set ${r} to ${p}`))):(t.compilerOptions[r]=p,o(e.name,`Set ${r} to ${p}`));else try{(l=JSON.parse(p))&&l.constructor===Object?(t.compilerOptions[r]=JSON.parse(p),o(e.name,`Set ${r} to ${JSON.stringify(JSON.parse(p))}`)):o(e.name,`§cCannot make changes to ${r}: Input is not an ${n.type}.`)}catch{o(e.name,`§cCannot make changes to ${r}: Error occured when parsing input to JSON.`)}else try{var l=JSON.parse(p);Array.isArray(l)?(t.compilerOptions[r]=JSON.parse(p),o(e.name,`Set ${r} to ${JSON.stringify(JSON.parse(p))}`)):o(e.name,`§cCannot make changes to ${r}: Input is not an ${n.type}.`)}catch{o(e.name,`§cCannot make changes to ${r}: Error occured when parsing input to JSON.`)}}))}}})),t}function Te(e,t,i){let r=i,s=new De;s.title("TypeScript Interpreter"),s.textField("Text Field","Type here",r.ModalForm.textField.defaultValue),s.toggle("Use Mojang Namespace",r.ModalForm.toggle.defaultValue),s.show(e).then((i=>{const{formValues:s}=i;let[De,Oe]=s;if(/[a-z]/i.test(De)){(new Date).getTime();0,isNaN(De.slice(-1))||(De+=";"),o(t,`==========\n### scriptEngine.ts\n${De}`);try{const i=function(e,t){const i={"scriptEngine.ts":e,"lib.d.ts":l,"lib.dom.d.ts":c,"lib.dom.iterable.d.ts":a,"lib.es2015.collection.d.ts":d,"lib.es2015.core.d.ts":m,"lib.es2015.d.ts":y,"lib.es2015.generator.d.ts":f,"lib.es2015.iterable.d.ts":b,"lib.es2015.promise.d.ts":u,"lib.es2015.proxy.d.ts":g,"lib.es2015.reflect.d.ts":w,"lib.es2015.symbol.d.ts":S,"lib.es2015.symbol.wellknown.d.ts":k,"lib.es2016.array.include.d.ts":j,"lib.es2016.d.ts":h,"lib.es2016.full.d.ts":D,"lib.es2017.d.ts":E,"lib.es2017.full.d.ts":O,"lib.es2017.intl.d.ts":x,"lib.es2017.object.d.ts":v,"lib.es2017.sharedmemory.d.ts":C,"lib.es2017.string.d.ts":F,"lib.es2017.typedarrays.d.ts":I,"lib.es2018.asyncgenerator.d.ts":N,"lib.es2018.asynciterable.d.ts":$,"lib.es2018.d.ts":M,"lib.es2018.full.d.ts":P,"lib.es2018.intl.d.ts":T,"lib.es2018.promise.d.ts":V,"lib.es2018.regexp.d.ts":J,"lib.es2019.array.d.ts":U,"lib.es2019.d.ts":A,"lib.es2019.full.d.ts":L,"lib.es2019.object.d.ts":R,"lib.es2019.string.d.ts":W,"lib.es2019.symbol.d.ts":B,"lib.es2020.bigint.d.ts":z,"lib.es2020.d.ts":G,"lib.es2020.full.d.ts":Y,"lib.es2020.intl.d.ts":_,"lib.es2020.promise.d.ts":q,"lib.es2020.sharedmemory.d.ts":H,"lib.es2020.string.d.ts":K,"lib.es2020.symbol.wellknown.d.ts":Q,"lib.es2021.d.ts":X,"lib.es2021.full.d.ts":Z,"lib.es2021.intl.d.ts":ee,"lib.es2021.promise.d.ts":te,"lib.es2021.string.d.ts":ie,"lib.es2021.weakref.d.ts":re,"lib.es2022.array.d.ts":se,"lib.es2022.d.ts":oe,"lib.es2022.error.d.ts":ne,"lib.es2022.full.d.ts":pe,"lib.es2022.object.d.ts":le,"lib.es2022.string.d.ts":ce,"lib.es5.d.ts":ae,"lib.es6.d.ts":de,"lib.esnext.d.ts":me,"lib.esnext.full.d.ts":ye,"lib.esnext.intl.d.ts":fe,"lib.esnext.promise.d.ts":be,"lib.esnext.string.d.ts":ue,"lib.scripthost.d.ts":ge,"lib.webworker.importscripts.d.ts":we,"lib.webworker.iterable.d.ts":Se,"mojang-minecraft.d.ts":je,"mojang-gametest.d.ts":he,"mojang-minecraft-ui.d.ts":ke,"base64.d.ts":xe,"clonetson.d.ts":ve,"sha256.d.ts":Ce,"viewObj.d.ts":Fe,"md5.d.ts":Ie},r={},s={fileExists:e=>{for(const t of Object.keys(i))return e===t},directoryExists:e=>"/"===e,getCurrentDirectory:()=>"/",getDirectories:()=>[],getCanonicalFileName:e=>e,getNewLine:()=>"\n",getDefaultLibFileName:()=>"",getSourceFile:e=>{var r;for(const s of Object.keys(i)){if(e===s)return p.createSourceFile(s,i[s],p.ScriptTarget[t.target]);r=void 0}return r},readFile:e=>{var t;for(const r of Object.keys(i)){if(e===r)return i[r];t=void 0}return t},useCaseSensitiveFileNames:()=>!0,writeFile:(e,t)=>r[e]=t},o=p.createProgram(Object.keys(i),t,s);return o.emit(),Object.keys(i).forEach((e=>e.replace(".ts",".d.ts").replace(".js",".d.ts"))),{files:r,diagnostics:p.getPreEmitDiagnostics(o),host:s}}(De,p.convertCompilerOptionsFromJson($e.value.compilerOptions).options),s=i.files["scriptEngine.js"].replace(/\u000d\n/g,"\n");for(const e of Object.keys(i.files))o(t,`### ${e}\n${i.files[e]}`);if(i.diagnostics.length>0){0;const l=p.formatDiagnosticsWithColorAndContext(i.diagnostics,i.host).replace(/\[0m/g,"§r").replace(/\[7m/g,"§l").replace(/\[90m/g,"§8").replace(/\[91m/g,"§c").replace(/\[92m/g,"§a").replace(/\[93m/g,"§e").replace(/\[94m/g,"§9").replace(/\[95m/g,"§d").replace(/\[96m/g,"§b").replace(/\[97m/g,"§f");let c=new Ee;c.title("Compiler Warning"),c.body(l),c.button1("Build Script"),c.button2("Fix Your Code"),c.show(e).then((i=>{const{selection:o}=i;if(0==o)r.ModalForm.toggle.defaultValue=Oe,r.ModalForm.textField.defaultValue=De,Te(e,t,r);else{let i=JSON.parse(JSON.stringify(Me));i.ModalForm.toggle.defaultValue=Oe,i.ModalForm.textField.defaultValue=s,r.ModalForm.textField.defaultValue=De,n(e,t,i)}})),o(t,l)}else{0;let i=JSON.parse(JSON.stringify(Me));i.ModalForm.toggle.defaultValue=Oe,i.ModalForm.textField.defaultValue=s,r.ModalForm.textField.defaultValue=De,n(e,t,i)}}catch(i){i.stack;{o(t,`§c${i}\n${i.stack.split("\n").slice(0,-2)}`);let s=new Ee;s.title("Compile Error"),s.body(`${i}\n${i.stack.split("\n").slice(0,-2)}`),s.button1("Exit"),s.button2("Fix Your Code"),s.show(e).then((i=>{const{selection:s}=i;0==s&&(r.ModalForm.toggle.defaultValue=Oe,r.ModalForm.textField.defaultValue=De,Te(e,t,r))}))}}o(t,"==========")}}))}e.events.beforeChat.subscribe((e=>{const{message:n,sender:p}=e;let l=p.name??p.nameTag,c=!1;if(c=!(1!=s||!r.includes(l))||0==s,"$typescript"==n&&1==c){e.cancel=!0;let r=new t(i.enchantedBook,1);r.nameTag="§r§dTypeScript interpreter",r.setLore(["§r§5Use this item to open TypeScript interpreter"]),p.getComponent("minecraft:inventory").container.addItem(r),o(l,`You have been given a ${r.nameTag}`)}else if("$typescript version"==n)e.cancel=!0,o(l,"§6typescript§r@§64.6.3§r | §2Apache-2.0§r | deps: §2none§r | versions: §22277§r\nTypeScript is a language for application scale JavaScript development\n§9https://typescriptlang.org/");else if("$tsconfig"==n){e.cancel=!0;let r=new t(i.enchantedBook,1);r.nameTag="§r§dTypeScript Configulation",r.setLore(["§r§5TypeScript Config","Use this item to edit configulation"]),p.getComponent("minecraft:inventory").container.addItem(r),o(l,`You have been given a ${r.nameTag}`)}})),e.events.beforeItemUse.subscribe((e=>{let{source:t,item:i}=e,r=t.name??t.nameTag;if("minecraft:enchanted_book"==i.id&&"§r§5Use this item to open TypeScript interpreter"==i.getLore()[0]){let e=Me;null==e.ModalForm.toggle.defaultValue&&(e.ModalForm.toggle.defaultValue=!0),Te(t,r,e)}else if("minecraft:enchanted_book"==i.id&&"§r§5TypeScript Config"===i.getLore()[0]&&"Use this item to edit configulation"===i.getLore()[1]&&($e.value=Pe(t,$e.value,$e.schema),$e.validate().errors.length>0)){var s=[];for(let e of $e.validate().errors)s.push(e);let e=new Ee;e.title("Config Error"),e.body(s.join("\n")),e.button1("Ignore Errors"),e.button2("Fix Config"),e.show(t).then((e=>{const{selection:i}=e;0==i&&($e.value=Pe(t,$e.value,$e.schema))}))}}));